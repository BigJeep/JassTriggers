// the effect that will be added to wolves after a chain lightning cast
// I gotta remeber to make (or grab from someone) a function to detect the nearest enemy
// -Functions
function Chain_Lightning_Deathrattle takes nothing returns boolean
  
  local unit caster = GetTriggerUnit()
  
  local player p = GetOwningPlayer(caster)
  
  local real x = GetUnitX(caster)
  local real y = GetUnitY(caster)
  
  local unit t = CreateUnit(p, 'h001', x, y, 0.)
  call UnitApplyTimedLife (temp, 'BTLF', 3.)
  call UnitAddAbility (temp, 'red chain lightning')
  call IssueTargetOrder (temp, "chainlightning", GetNearestEnemy(<arguments here, and here and here and here and... here>)
  
  set caster = null
  set = p = null
  set temp = null
  
endfunction

// -Trigger 
function InitTrig_Feral_Spirit_Lightning takes nothing returns nothing
  local trigger t = CreateTrigger()
  
  call TriggerRegisterAnyUnitEvent (t, EVENT_PLAYER_UNIT_DIES)
  call TriggerAddCondition (t, Condition (function Chain_Lightning_Deathrattle) )
  
  set t = null
endfunction
